{% extends 'layout.html'%}

  {% block body  %}

 

{% block content  %}
    

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestion de la maintenance</title>
    <link rel="stylesheet" href="static/css/intervention.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"  crossorigin="anonymous"></script>
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<style>
    input[type="number"] {
  -webkit-appearance: textfield;
  -moz-appearance: textfield;
  appearance: textfield;
  text-align: center;
}

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
}

.number-input {
  border: 2px solid #ddd;
  display: inline-flex;
}

.number-input,
.number-input * {
  box-sizing: border-box;
}

.number-input button {
  outline:none;
  -webkit-appearance: none;
  background-color: transparent;
  border: none;
  align-items: center;
  justify-content: center;
  width: 3rem;
  height: 3rem;
  cursor: pointer;
  margin: 0;
  position: relative;
}

.number-input button:before,
.number-input button:after {
  display: inline-block;
  position: absolute;
  content: '';
  width: 1rem;
  height: 2px;
  background-color: #212121;
  transform: translate(-50%, -50%);
}
.number-input button.plus:after {
  transform: translate(-50%, -50%) rotate(90deg);
}

.number-input input[type=number] {
  font-family: sans-serif;
  max-width: 5rem;
  padding: .5rem;
  border: solid #ddd;
  border-width: 0 2px;
  font-size: 2rem;
  height: 3rem;
  font-weight: bold;
  text-align: center;
}
</style>
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category,message in messages %}
<div class="alert alert-{{category}}">{{message}}</div>
{% endfor %}
{% endif %}
{% endwith %}
<button style="width: 30%" ><a href="/addPDR">Add PDR</a>

 
</a></button>
<body>       
<main class="container">
      {% for post in posts %}
        <div class="equipement border">
          <div>
            <input >
            <input >

                  <input type="submit" value="VALUE1" name="action1" value="Qt" class="btn btn-outline-info"  data-toggle="modal" data-target="#modalEdit{{ post.0 }}"/>
                  <input type="submit" value="VALUE2" name="action2" value="Qt" class="btn btn-outline-info"  data-toggle="modal" data-target="#modalEdit{{ post.0 }}" />

            <!-- <button type="submit1" name ="open" value="Qt" class="btn btn-outline-info"  data-toggle="modal" data-target="#modalEdit{{ post.0 }}"><i class="check_circle" style="font-size:18px"data-toggle="modal" data-target="#exampleModal">consomation </i></button>
            <button type="submit" name ="close"  value="Qt" class="btn btn-outline-danger" data-toggle="modal" data-target="#modalEdit{{ post.0 }}"><i class="fa fa-shopping-cart" style="font-size:18px">Acheter</i></button> -->
            <a href="#!" class="btn btn-outline-info" data-toggle="modal" data-target="#modalEdit{{ post.0 }}">Edit</a>

          </div>
            <div class="header">
              <div class="box box-down cyan">
                <h1 class="code">{{ post['id'] }}</h1>
              
              </div> 
            </div>
           
            <h2 class="nom"> {{ post['Nom'] }}</h2>
            
            <p class="details">{{ post['Réf'] }}</p>
            <div class="buttons">
              <button class="view" style="color: white;"><a href="#myModal"><a href="/valider/{{post.id}}"data-toggle="modal" data-target="#myModal{{post.id}}"  style="color: white;" ><i class="icon ion-md-eye"></a></i></a></button>
                <button class="edit"  style="color: white;">  <a href="/editPDR/{{post.id}}"  style="color: white;"><i class="icon ion-md-create"></a></a></i></button>
                <button class="delete"><a href="/sup/{{post.id}}" style="color: white;"><i class="icon ion-md-trash"></a></i></button>

            </div>
        </div>
        
        {% endfor %} 
        {% for post in posts %}
        <div id="myModal{{post.id}}" class="modal fade" role="dialog">
          <div class="modal-dialog" >
           
            <!-- Modal content-->
            <div class="modal-content">
             
              <div class="modal-header">
                <h4 class="modal-title"  >view PDR</h4>
                <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
                
              </div>
             
              <div class="modal-body">
                  
             
                <div class="col-md-8" > <label style="color: rgb(63, 68, 71);">id  :</label>
                  {{ post['id'] }}</div> 
                <div class="col-md-9"> <label style="color: rgb(63, 68, 71);">Nom :</label>
                  {{ post['Nom'] }}</div>
                <div class="col-md-9"> <label style="color: rgb(63, 68, 71);">Réf :</label>
                  {{ post['Réf'] }}</div>
                <div class="col-md-12"> <label style="color: rgb(63, 68, 71);">Qt:</label>
                  {{ post['Qt'] }}</div>
                <div class="col-md-9"> <label style="color: rgb(63, 68, 71);">Marque :</label>
                  {{ post['Marque'] }}</div>
    
                <div class="col-md-11"> <label style="color: rgb(63, 68, 71);">Etat :</label>
                {{ post['Etat'] }}</div>

             
              </div>
            
              <div class="modal-footer"style="background-color:lightblue;">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
        
          </div>
        </div>     
     {% endfor %} 
     {% for post in posts %}
  
     <div id="modalEdit{{ post.0 }}" class="modal fade" role="dialog">


      <div class="modal-dialog">
     
     
      <div class="modal-content">
     
     
      <div class="modal-header">
     
     
      <button type="button" class="close" data-dismiss="modal">&times;</button>
     
     
      <h4 class="modal-title">Edit Data</h4>
     
     
      </div>
     
     
      <div class="modal-body">
     
     
      <form action="{{ url_for('start') }}" method="POST">
     
     
      <div class="form-group">
     
     
      <label>Qt:</label>
     

      <input type="hidden" name="id" value="{{ post.0 }}">

      <input type="text" class="form-control" name="Qt" value="{{ post.1}}">

       <input type="text" class="form-control" name="qt2" value="{{ post.1}}">

      </div>
     
     
      <div class="form-group">
     
     
      <button class="btn btn-warning" type="submit">Update</button>
     
     
      </div>
     
     
      </form>
     
     
      </div>
     
     
      <div class="modal-footer">
     
     
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
     
      </div>


 </div>


 </div>


 </div>

     
     
     {% endfor %}
     





 </div>




</div>
 
    

        
 {% endblock %}
 {% endblock %}
 </main>
</body>

<script type=text/javascript>
 $(function() {
  $('a#calculate').bind('click', function() {
   $.getJSON($SCRIPT_ROOT + '/start', {
    a: $('input[name="Qt"]').val(),
    b: $('input[name="qt2"]').val()
   }, function(data) {
    $("#result").text(data.result);
   });
   return false;
  });
 });
</script>
</html>









